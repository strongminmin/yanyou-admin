(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-37b8dfc5"],{7368:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"user-container"},[a("div",{staticClass:"table-wrapper"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,stripe:"stripe",border:"border"}},[a("el-table-column",{attrs:{type:"index",label:"编号",width:"80",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"头像",align:"center"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("img",{staticClass:"image",attrs:{src:t.row["user_image"],alt:""}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"user_name",label:"用户名",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"user_email",label:"邮箱",align:"center",width:"200"}}),t._v(" "),a("el-table-column",{attrs:{prop:"user_sex",label:"性别",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"user_birthday",label:"出生日期",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"volunteer_school",label:"志愿学校",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"volunteer_profession",label:"报考专业",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"user_status",label:"状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{class:t.statusTxt(e.row["user_status"])[0]},[t._v(t._s(t.statusTxt(e.row["user_status"])[1]))])]}}])}),t._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"120",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(a){return a.preventDefault(),t.disableUser(e.$index,t.tableData)}}},[t._v(t._s(t.statusTxt(e.row["user_status"])[2]))])]}}])})],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"用户权限",visible:t.dialogVisible,width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("span",[t._v("是否"+t._s(t.dialogTxt))]),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.closeDialog}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.disableCallback}},[t._v("确 定")])],1)])],1)},r=[],n=(a("96cf"),a("3b8d")),l=a("b775"),i=a("da71");function o(t){return Object(l["a"])({url:"".concat(i["a"].BASE_URL,"/user/user-list"),method:"get",params:t})}function c(t){return Object(l["a"])({url:"".concat(i["a"].BASE_URL,"/user/disable-user"),method:"get",params:t})}var u={name:"User",data:function(){return{currentUserId:0,dialogTxt:"禁用",dialogVisible:!1,tableData:[]}},created:function(){this.fetchRequest()},methods:{opneDialog:function(){this.dialogVisible=!0},closeDialog:function(){this.dialogVisible=!1},disableUser:function(t,e){this.dialogTxt=this.statusTxt(e[t].user_status)[2],this.currentUserId=e[t].user_id,this.opneDialog()},disableCallback:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.$loading({lock:!0,text:"".concat(this.dialogTxt,"中..."),spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.2)"}),t.prev=1,t.next=4,c({user_id:this.currentUserId});case 4:if(a=t.sent,s=a.data,1!==s.noerr){t.next=8;break}throw new Error;case 8:e.close(),this.fetchRequest(),this.closeDialog(),this.$message.success("".concat(this.dialogTxt,"成功")),t.next=18;break;case 14:t.prev=14,t.t0=t["catch"](1),e.close(),this.$message.error("".concat(this.dialogTxt,"失败"));case 18:case"end":return t.stop()}}),t,this,[[1,14]])})));function e(){return t.apply(this,arguments)}return e}(),fetchRequest:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o();case 3:e=t.sent,a=e.data,console.log(a),this.tableData=a.data,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),this.$message.error("获取列表失败");case 12:case"end":return t.stop()}}),t,this,[[0,9]])})));function e(){return t.apply(this,arguments)}return e}(),statusTxt:function(t){return 1===+t?["status-1","禁用","启用"]:["status-0","正常","禁用"]}}},d=u,b=(a("7ed5"),a("2877")),p=Object(b["a"])(d,s,r,!1,null,"1b98dc21",null);e["default"]=p.exports},"7ed5":function(t,e,a){"use strict";var s=a("80ef"),r=a.n(s);r.a},"80ef":function(t,e,a){}}]);